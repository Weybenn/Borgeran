<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="icon.png" type="image/x-icon">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <style>
        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }
        body {
            background-color: #FFD92A;
            overflow-x: hidden;
        }
        .bg {
            max-width: 100%;
            background-size: 100%;
        }
        .hero {
            width: 100%;
            height: 100%;          
            padding: 0, 2%;
        }
        nav {
            width: 100%;
            height: 15%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #76110F;
            position: absolute;
            margin-bottom: 0;
            margin-top: -10%;
        }
        nav .logo {
            width: 200px;
            cursor: pointer;
            margin-right: 2%;
            margin-left: 0%;
            margin-top: 2%;
            margin-bottom: 2%;
            align-items: center;
        }
        nav ul {
            flex: 1;
            text-align: center;
            margin-left: 130px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
        nav ul li {
            list-style: none;
            display: inline-flex;
            margin: 10px 12px;
            margin-bottom: 0%;
            margin-right: 0%;
            position: relative;
        }
        nav ul li a {
            text-decoration: none;
            color: white;
            font-weight: 600;
            font-size: 24px;
            padding: 3px;
            position: relative;
            transition: color 0.3s ease;
            z-index: 1;
        }
        nav ul li a::after {
            content: '';
            position: absolute;
            left: 45%;
            bottom: -33px;
            width: 100%;
            height: 5px;
            background: #FFD92A;
            transition: width 0.3s ease, left 0.3s ease;
            z-index: -1;
            transform: translateX(-15%) scaleX(0);
            transform-origin: center;
            border-radius: 10%;
        }
        nav ul li a:hover::after,
        nav ul li a.active::after {
            width: 120%;
            height: 260%;
            left: -0.25%;
            transform: translateX(-9%) scaleX(0.9);
        }
        nav ul li a:hover,
        nav ul li a.active {
            color: #76110F;
        }
        nav .dropdown {
            float: right;
            overflow: hidden;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            
        }

        nav .dropdown .dropbtn {
              
            border: none;
            outline: none;
            color: white;
            padding: 14px 16px;
            background-color: inherit;
            margin: 0;
            font-size: 24px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            text-decoration: none;
            font-weight: 600;
            font-size: 24px;
            padding: 3px;
            position: relative;
            align-items: center;
            margin-right: 100px;
            padding-right: 10px;
            border-radius: 5px;
            padding-top: 10%;
            padding-bottom: 8%;
        }

        nav .dropdown-content {
            border-radius: 5px;
            display: none;
            position: absolute;
            background-color: #FFD92A;
            min-width: 128px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        nav .dropdown-content a {
            float: none;
            color: #76110F;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            font-size: larger;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        nav .dropdown-content a:hover {
            background-color: #FFD92A;
            color: #fff;
        }

        nav .dropdown:hover .dropdown-content {
            display: block;
        }

        nav .dropdown:hover .dropbtn {
            background-color: #FFD92A;
            color: #76110F;
        }
        h1 {
            font-size: 70px;
            color: #76110F;
            text-align: center;
            margin-top: 10%;
            font-family: impact;
        }
        .row {
            display: -ms-flexbox; 
            display: flex;
            -ms-flex-wrap: wrap; 
            flex-wrap: wrap;
            margin: 0 -16px;
            background-color: #76110F;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            margin-left: 5%;
            margin-right: 5%;
            padding-top: 1%;
            color: #fff;
        }
        .col-25 {
            -ms-flex: 25%; 
            flex: 25%;
        }
       .col-50 {
            -ms-flex: 30%;
            flex: 30%;
            padding: 0 16px;
            display: flex;
            flex-direction: column;
        }

        .col-75 {
            -ms-flex: 50%; 
            flex: 50%;
        }
        .col-25,
        .col-50,
        .col-75 {
            padding: 0 12px;
            padding-bottom: 12px;
        }
        .container {
            background-color: #76110F;
            padding: 5px 20px 15px 20px;
            border: 2px solid #FFD92A;
            border-radius: 3px;
        }
        input[type=text] {
            width: 100%;
            margin-bottom: 20px;
            padding: 12px;
            border: 2px solid #FFD92A;
            border-radius: 3px;
        }
        label {
          
            display: block;
        }
        .icon-container {
            margin-bottom: 20px;
            padding: 7px 0;
            font-size: 24px;
        }
        .btn {
            background-color: #FFD92A;
            color: #76110F;
            padding: 12px;
            margin: 10px 0;
            border: none;
            width: 100%;
            border-radius: 3px;
            cursor: pointer;
            font-size: 17px;
           
        }
        .btn:hover {
            background-color: #405B35;
            color: #FFD92A;
        }
       
        .receipt {
            background-color: #fff;
            border: 2px solid #FFD92A;
            border-radius: 5px;
            color: #76110F;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            margin-right: 15px;
            margin-bottom: 13px;
            padding: 10px;
            padding-right: 10px; 
        }
        .receipt h2 {
            color: #76110F;
            margin-bottom: 10px;
        }
        .receipt ul {
            list-style: none;
            padding: 0;
        }
        .receipt li {
            margin-bottom: 5px;
        }
        .receipt p {
            margin-top: 10px;
            font-weight: bold;
            text-align: right;
            border-top: 2px solid #76110F; 
            padding-top: 5px; 

        }
        @media (max-width: 800px) {
            .row {
                flex-direction: column-reverse;
            }
            .col-25 {
                margin-bottom: 20px;
            }
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        .modal-content {
            background-color: #76110F;
            margin: 15% auto;
            padding: 50px;
            border: 2px solid #FFD92A;
            width: 50%;
            border-radius: 10px;
            text-align: center;
            color: #fff;
            font-size: x-large;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }
        .close {
            background-color: #fff;
            color: #76110F;
            float: right;
            font-size: 28px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 50%;
        }
        .close:hover,
        .close:focus {
            background-color: #405B35;
            color:#fff;
        }
        .another-purchase {
            background-color: #fff;
            color: #76110F;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: large;
            margin-top: 5%;
        }
        .another-purchase:hover {
            background-color: #405B35;
            color: #fff;
        }
        .icon-container {
            margin-bottom: 20px;
            padding: 5px 2px;
            font-size: 15px;
            display: flex; /* Change display to flex */
            justify-content: flex-start; /* Align items horizontally */
            align-items: center; /* Align items vertically */
        }

        .icon-container input[type="radio"] {
            margin-right: 3px;
            margin-left: 20px; /* Adjust margin-right to create space between items */
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        .modal-content {
            background-color: #76110F;
            margin: 15% auto;
            padding: 50px;
            border: 2px solid #FFD92A;
            width: 50%;
            border-radius: 10px;
            text-align: center;
            color: #FFD92A;
            font-size: x-large;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
        }
        #cart-count {
            background-color: red;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 12px;
            position: absolute;
            top: -10px;
            right: -10px;
}
        .order-status {
            text-align: left;
            font-size: 18px;
            font-weight: bold;
            margin-top: 2.50%;
        }
        .status-icons {
            display: flex;
            justify-content: space-around;
            padding: 2% 10%;
            align-items: center;
        }
    
        h3 {
            font-size: 30px;
            margin-top: -2%;
            color: #76110F;
            text-align: center;
            font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif
        }
        
        h6{
        
            font-size: 20px;
            margin-top: -0%;
            color: #76110F;
            text-align: center;
            font-family:'Times New Roman', Times, serif
        }
        .status-icons {
        display: flex;
        justify-content: space-between;
        align-items: center;
        text-align: center; /* Center-align the icons */
        }

        .status-icons img {
            width: 57px; /* Adjust size as needed */
            height: 56px; /* Adjust size as needed */
        }
        
    
        .status-icons a {
            text-decoration: none;
            transition: transform 0.9s ease;
        }
        .status-icons a:hover {
            transform: scale(1.09);
        }


        /* CSS for clickable order status */
        .order-status a {
            text-decoration: none;
            color: #76110F;
        }
        .order-status a:hover {
            text-decoration: underline;
            color: #76110F;
        }
        
        /* Styling for progress bar */
        .progress-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 90%;
            margin: 30px auto;
            position: relative;
        }

        .progress {
            width: 100%;
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            flex: 1;
        }

        .progress-inner {
            height: 100%;
            background-color: #76110F;
            width: 0;
            transition: width 0.5s ease-in-out;
        }

        .progress-step {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #76110F;
            border-radius: 50%;
            top: -10px;
            transform: translateX(-50%);
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            position: absolute;
            top: 30px;
            left: 0;
        }

        .progress-label {
            flex: 1;
            text-align: center;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="hero">
        <nav id="navbar">
            <a href="home.html"><img src="logo_.png" class="logo"></a>
            <ul>
                <li><a href="home.html">Home</a></li>
                <li> <a href="about.html" > About</a></li>
                <li><a href="menu.html">Menu</a></li>
                <li><a href="cart.html">Cart <span id="cart-count">0</span></a></li>
                <li><a href="delivery.html"  class="active">Delivery</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="dropdown">
                <button class="dropbtn"><i class="fa fa-user"></i> Account <i class="fa fa-caret-down"></i></button>
                <div class="dropdown-content">
                    <a href="account.html">My Account</a>
                    <a href="login.html" id="logout-btn">Logout</a>
                </div>
            </div>
        </nav>
    </div>

    <div class="content">
        <h1></h1>
    </div>
    <div class="row">
        <div class="col-75">
            <div class="container">
                <form id="checkout-form">
                    <div class="row">
                        <div class="col-50">
                            <h3>Billing Address</h3>
                            <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                            <input type="text" id="fname" name="firstname" placeholder="Add Your Name..." required>

                            <label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
                            <input type="text" id="adr" name="address" placeholder="Add Street, Building, House No..." required>

                            <label for="city"><i class="fa fa-institution"></i> City</label>
                            <input type="text" id="city" name="city" placeholder="Add City..." required>

                            <label for="zip"><i class="fa fa-address-card-o"></i> Zip</label>
                            <input type="text" id="zip" name="zip" placeholder="Add Zip No..." required>
                        </div>
                        <div class="col-50">
                            <h3>Payment</h3>
                            <label for="fname">Options:</label>
                            <div class="icon-container">
                                <input type="radio" id="paypal" name="payment-method" value="paypal">
                                <label for="paypal"><i class="fa fa-paypal" style="color:blue;"></i> PayPal</label>
                                <br>
                                <input type="radio" id="visa" name="payment-method" value="visa">
                                <label for="visa"><i class="fa fa-cc-visa" style="color:#FFD92A;"></i> Visa</label>
                                <br>
                                <input type="radio" id="mastercard" name="payment-method" value="mastercard">
                                <label for="mastercard"><i class="fa fa-cc-mastercard" style="color:darkblue;"></i> MasterCard</label>
                                <br>
                                <input type="radio" id="gcash" name="payment-method" value="gcash">
                                <label for="gcash"><img src="gcashicon.png" alt="GCash" style="width: 20px; filter: brightness(0) invert(1);"> GCash</label>
                                <br>
                                <input type="radio" id="cod" name="payment-method" value="cod">
                                <label for="cod"><img src="COD.png" alt="COD" style="width:60px;"></label>
                                <br>
                            </div>
                            <label for="cname">Account Name</label>
                            <input type="text" id="cname" name="billname" placeholder="Add Account Name..." required>

                            <label for="ccnum">Account Number</label>
                            <input type="text" id="ccnum" name="billnumber" placeholder="Add Account Number..." required>


                        </div>
                        <label>
                            <input type="checkbox" checked="checked" name="sameadr"> Shipping address same as billing.
                        </label>
                        <input type="submit" value="Continue to Purchase" id="checkout-btn" class="btn">
                    </div>
                </form>
            </div>
        </div>
        <div class="receipt">
            <h2>Receipt</h2>
            <ul id="receipt-items"></ul>
            <p>Total: <span id="total-amount"></span></p>
        </div>
    </div>
    
    <div class="content">
        <div class="order-status">
            <a href="#" id="orderStatusLink"><h3>Order Status:</h3></a>
            <h6> your order is... </h6>
        </div>
        <div class="progress-bar">
            <div class="progress">
                <div class="progress-inner" id="progressInner"></div>
                <div class="progress-step" style="left: 25%;"></div>
                <div class="progress-step" style="left: 50%;"></div>
                <div class="progress-step" style="left: 75%;"></div>
                <div class="progress-step" style="left: 100%;"></div>
            </div>
            <div class="progress-labels">
                <div class="progress-label">Order Received</div>
                <div class="progress-label">Being Prepared</div>
                <div class="progress-label">On The Way</div>
                <div class="progress-label">Delivered</div>
            </div>
        </div>

        <div class="status-icons">
            <a href="#" class="order1" data-progress="25">
                <img src="order1.png" alt="Order Received">
                <div class="countdown-timer"></div>
            </a>
            <a href="#" class="order2" data-progress="50">
                <img src="order2.png" alt="Order Being Prepared">
                <div class="countdown-timer"></div>
            </a>
            <a href="#" class="order3" data-progress="75" >
                <img src="order3.png" alt="Order On The Way">
                <div class="countdown-timer"></div>
            </a>
            <a href="#" class="order4" data-progress="100" >
                <img src="order4.png" alt="Order Delivered">
                <div class="countdown-timer"></div>
            </a>
        </div>
    </div>

    <div class="modal" id="location-modal">
        <div class="modal-content">
            <button class="close">&times;</button>
            <p>Thank you for Purchasing!</p>
        </div>
    </div>
    <div class="modal" id="logout-modal">
        <div class="modal-content">
            <p>Logging-out...</p>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            updateReceipt();
        });

        function updateReceipt() {
            let cart = JSON.parse(localStorage.getItem('cart')) || {};
            let receiptItemsElement = document.getElementById('receipt-items');
            let totalAmountElement = document.getElementById('total-amount');
            let totalAmount = 0;

            receiptItemsElement.innerHTML = '';

            for (let product in cart) {
                if (cart.hasOwnProperty(product)) {
                    let quantity = cart[product];
                    let listItem = document.createElement('li');
                    listItem.textContent = product + ' x ' + quantity;

                    let subtotal = calculateSubtotal(product, quantity);
                    listItem.textContent += ' - ₱' + subtotal.toFixed(2);

                    receiptItemsElement.appendChild(listItem);
                    totalAmount += subtotal;
                }
            }

            totalAmountElement.textContent = '₱' + totalAmount.toFixed(2);
        }

        function calculateSubtotal(productName, quantity) {
            let price = getPrice(productName);
            return price * quantity;
        }

        function getPrice(productName) {
            let prices = {
                'Classic Borger': 50.00,
                'Special Borger': 80.00,
                'Combo Borger': 100.00,
                'Fries Solo': 35.00,
                'Fries Medio': 50.00,
                'Fries Grupo': 75.00,
                'Bottled Water': 15.00,
                'Red Soda': 20.00,
                'Orange Soda': 20.00,
                'Green Soda': 20.00,
                'Blue Soda': 20.00,
                'Lemon Iced Tea': 10.00
            };
            return prices[productName] || 0;
        }

        document.addEventListener("DOMContentLoaded", function() {
            const checkoutBtn = document.getElementById('checkout-btn');
            const modal = document.getElementById('location-modal');
            const closeBtn = document.querySelector('.close');
            const anotherPurchaseBtn = document.querySelector('.another-purchase');

            checkoutBtn.addEventListener('click', function(event) {
                const form = event.target.closest('form');
                if (form.checkValidity()) {
                    event.preventDefault();
                    processPayment();
                }
            });

            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
                window.location.href = 'account.html';
            });

            anotherPurchaseBtn.addEventListener('click', function() {
                modal.style.display = 'none';
                window.location.href = 'menu.html';
            });
        });

        function processPayment() {
            let paymentMethod = document.querySelector('input[name="payment-method"]:checked').value;

            switch (paymentMethod) {
                case 'paypal':
                    window.location.href = '#';
                case 'visa':
                    window.location.href = '#';
                    break;
                case 'mastercard':
                    window.location.href = '#';
                    break;
                case 'gcash':
                    window.location.href = '#';
                    break;
                case 'cod':
                    window.location.href = '#';
                    break;
                default:
                    alert('Please select a payment method');
                    return;
            }

            document.getElementById('location-modal').style.display = 'block';
        }

        document.addEventListener("DOMContentLoaded", function() {
            const logoutBtn = document.getElementById('logout-btn');
            const modal = document.getElementById('logout-modal');

            logoutBtn.addEventListener('click', function(event) {
                event.preventDefault(); // Prevent the default link behavior
                modal.style.display = 'block'; // Display modal
                setTimeout(function() {
                    window.location.href = 'login.html'; // Redirect to login page
                }, 2000); // 2 seconds delay
            });
        });

        document.addEventListener("DOMContentLoaded", function() {
        updateCartCount(); // Update cart count when the page loads
        loadCart(); // Existing function call to load the cart items
    });

    function updateCartCount() {
        let cartCount = Object.values(JSON.parse(localStorage.getItem('cart')) || {}).reduce((a, b) => a + b, 0);
        document.getElementById('cart-count').innerText = cartCount;
    }


     // para automatic carpet (order status)
     document.addEventListener('DOMContentLoaded', function () {
    var statusIcons = document.querySelectorAll('.status-icons a');
    var progressInner = document.getElementById('progressInner');
    var orderStatusMessage = document.querySelector('.order-status h6');
    var currentStep = 0;
    var messages = [
        "Order is received, please wait until we process your order.",
        "Order is now preparing, please be patient.",
        "Order is out for delivery, please prepare the exact amount.",
        "Thank you for ordering, we hope you enjoy your food!"
    ];

    //PARA SA ORDER STATUS!
    function updateOrderStatus() {
    if (currentStep < statusIcons.length) {
        var icon = statusIcons[currentStep];
        var progress = icon.getAttribute('data-progress');
        var message = messages[currentStep];

        progressInner.style.width = progress + '%';
        orderStatusMessage.innerText = message;

        // Start countdown timer
        var countdownTimer = icon.querySelector('.countdown-timer');
        var seconds = 1800; // NEED I-ADJUST!

        var countdownInterval = setInterval(function () {
            var hours = Math.floor(seconds / 3600);
            var minutes = Math.floor((seconds % 3600) / 60);
            var secs = seconds % 60;

            countdownTimer.innerHTML = 
                ('0' + hours).slice(-2) + ':' +
                ('0' + minutes).slice(-2) + ':' +
                ('0' + secs).slice(-2);

            seconds--;

            if (seconds < 0) {
                clearInterval(countdownInterval);
                countdownTimer.innerText = '';
            }
        }, 1000);

        currentStep++;
    }
}
    //start the order status updates!
    updateOrderStatus();

    // TIMER!!!
    setInterval(updateOrderStatus, 1800000); //milliseconds used
});



    </script>
</body>
</html>